# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Melange < Formula
  desc "Build apk packages using declarative pipelines"
  homepage "https://github.com/chainguard-dev/melange"
  version "0.5.8"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/chainguard-dev/melange/releases/download/v0.5.8/melange_0.5.8_darwin_arm64.tar.gz"
      sha256 "94c0eb655cf1ec6bf55cba888c59eae892f2a6c60e9511df29d8550af49c07fc"

      def install
        bin.install "melange" => "melange"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/chainguard-dev/melange/releases/download/v0.5.8/melange_0.5.8_darwin_amd64.tar.gz"
      sha256 "9dda91022fe18968c8c6cfd895d63e53a73b9893791c47911cf9cb621b8e1376"

      def install
        bin.install "melange" => "melange"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/chainguard-dev/melange/releases/download/v0.5.8/melange_0.5.8_linux_arm64.tar.gz"
      sha256 "c7b049801c186a5fdc4f352f1fbd349fb1e468a524a1dbf06e2fbdc606a6a6c6"

      def install
        bin.install "melange" => "melange"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/chainguard-dev/melange/releases/download/v0.5.8/melange_0.5.8_linux_amd64.tar.gz"
      sha256 "93694d30139de64af975c2c7d81f2d006c0a92a9750e6c67f9068ac4d2c0f11f"

      def install
        bin.install "melange" => "melange"
      end
    end
  end

  test do
    system "#{bin}/melange", "version"
  end
end
