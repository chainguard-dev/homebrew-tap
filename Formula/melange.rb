# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Melange < Formula
  desc "Build apk packages using declarative pipelines"
  homepage "https://github.com/chainguard-dev/melange"
  version "0.17.0"

  on_macos do
    on_intel do
      url "https://github.com/chainguard-dev/melange/releases/download/v0.17.0/melange_0.17.0_darwin_amd64.tar.gz"
      sha256 "fdc83c24b3ddba0375c5b9970b06012ab5a0b7574080529d838e03de1d60a4c5"

      def install
        bin.install "melange" => "melange"
      end
    end
    on_arm do
      url "https://github.com/chainguard-dev/melange/releases/download/v0.17.0/melange_0.17.0_darwin_arm64.tar.gz"
      sha256 "b8214d1d49d89a76858afa224c89b6d704621fe1f9469728941c157d9dfed69e"

      def install
        bin.install "melange" => "melange"
      end
    end
  end

  on_linux do
    on_intel do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/chainguard-dev/melange/releases/download/v0.17.0/melange_0.17.0_linux_amd64.tar.gz"
        sha256 "1c973abb62b4062fd14ec5b9c666758f48b6592b2b2d43ecda9fa84d795108fa"

        def install
          bin.install "melange" => "melange"
        end
      end
    end
    on_arm do
      if Hardware::CPU.is_64_bit?
        url "https://github.com/chainguard-dev/melange/releases/download/v0.17.0/melange_0.17.0_linux_arm64.tar.gz"
        sha256 "4b72ecbd1b2df117d7df3916c0594c45c46de779bd3155af3ea4d8133b476cf0"

        def install
          bin.install "melange" => "melange"
        end
      end
    end
  end

  test do
    system "#{bin}/melange", "version"
  end
end
